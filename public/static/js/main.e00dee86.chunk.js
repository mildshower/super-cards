(this["webpackJsonpmarvel-game"]=this["webpackJsonpmarvel-game"]||[]).push([[0],{17:function(e,t,a){e.exports=a(32)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),s=a(6),i=a(1),m=a(3),o=function(e){var t=e.pName;return c.a.createElement(s.b,{to:"/host?pName=".concat(t),className:"actionButton"},c.a.createElement("span",null,"Host"))},u=function(e){var t=e.pName,a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],i=r[1];return c.a.createElement("div",{className:"joinBox"},c.a.createElement("input",{className:"gameIdInput",value:l,onChange:function(e){return i(e.target.value)}}),c.a.createElement(s.b,{className:"actionButton",to:"/join/".concat(l,"?pName=").concat(t)},c.a.createElement("span",null,"Join")))},g=(a(27),function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"centerBox"},c.a.createElement("label",{className:"nameLabel"},"Enter Your Name"),c.a.createElement("input",{placeholder:"ex. John Doe",className:"nameField",value:a,onChange:function(e){return r(e.target.value)}}),c.a.createElement("div",{className:"actions"},c.a.createElement(o,{pName:a}),c.a.createElement(u,{pName:a})))});var E=function(){return new URLSearchParams(Object(i.h)().search)},f=function(e){return fetch("/game/host?pName=".concat(e)).then((function(e){return e.json()}))},p=function(){return fetch("/game/isStarted/").then((function(e){return e.json()}))},h=function(e,t){return fetch("/game/join?gameId=".concat(t,"&pName=").concat(e)).then((function(e){return e.json()}))},d=function(){return fetch("/game/playerDetails").then((function(e){return e.json()}))},N=function(e){return fetch("/game/fight?trait=".concat(e))},v=function(){var e=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),l=Object(m.a)(r,2),s=l[0],i=l[1],o=E().get("pName");return Object(n.useEffect)((function(){f(o).then(c)}),[]),Object(n.useEffect)((function(){if(null!==a){var e=setInterval((function(){return p().then((function(e){var t=e.isStarted;return i(t)}))}),1e3);return function(){return clearInterval(e)}}}),[a]),[a,s]}(),t=Object(m.a)(e,2),a=t[0];return t[1]?c.a.createElement(i.b,{to:"/game"}):c.a.createElement("div",{className:"centerBox"},c.a.createElement(i.a,{message:"Do you want to leave the game ?"}),c.a.createElement("p",{className:"message"},a?"Waiting for Opponent..":"Hosting"),a&&c.a.createElement("p",{className:"gameId"},"GAME ID: ",a.gameId))},b=function(){var e=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(i.i)().gameId,l=E().get("pName");return Object(n.useEffect)((function(){h(l,r).then(c)}),[]),a}();if(null===e||e.error){var t=e?e.error:"Joining..";return c.a.createElement("div",{className:"centerBox"},c.a.createElement("p",{className:"message"},t))}return c.a.createElement(i.b,{to:"/game"})},j=(a(28),function(e){var t=e.trait,a=(e.winner,e.winnerCard),n=e.looserCard,r=e.hasWon;return c.a.createElement("div",{className:"lastFight"},c.a.createElement("h3",null,"Last Fight"),t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"lastFightCards"},c.a.createElement("div",{className:"miniCard"},c.a.createElement("img",{className:"miniAvatar",src:a.img}),c.a.createElement("p",null,a.name)),"VS",c.a.createElement("div",{className:"miniCard"},c.a.createElement("p",null,n.name),c.a.createElement("img",{className:"miniAvatar",src:n.img}))),c.a.createElement("p",{className:"fightMsg"},"Trait: ",t.toUpperCase()),c.a.createElement("p",{className:"fightMsg ".concat(r?"winMsg":"loseMsg")},"You ",r?"won":"lost")):c.a.createElement("p",{className:"fightMsg"},"No Fights Happened"))}),O=function(e){var t=e.lastFight,a=e.isOwnTurn;return c.a.createElement("div",{className:"status"},c.a.createElement(j,t),c.a.createElement("p",{className:"turn"},a?"Your":"Opponent's"," Turn"))},w=(a(29),function(e){var t=e.id,a=e.name,n=e.intelligence,r=e.strength,l=e.speed,s=e.durability,i=e.power,m=e.combat,o=e.height,u=e.weight,g=e.img,E=e.onFight,f=e.isPlayable,p=function(e){f&&E(e)};return c.a.createElement("div",{className:"card",key:t},c.a.createElement("h3",{className:"cardTitle"},a.toUpperCase()),c.a.createElement("img",{className:"avatar",src:g,alt:"".concat(a," avatar")}),c.a.createElement("div",{className:"traits ".concat(f?"playable":"")},c.a.createElement("p",{className:"trait",onClick:function(){return p("intelligence")}},"Intel: ",n),c.a.createElement("p",{className:"trait",onClick:function(){return p("strength")}},"Strength: ",r),c.a.createElement("p",{className:"trait",onClick:function(){return p("speed")}},"Speed: ",l),c.a.createElement("p",{className:"trait",onClick:function(){return p("durability")}},"Durability: ",s),c.a.createElement("p",{className:"trait",onClick:function(){return p("power")}},"Power: ",i),c.a.createElement("p",{className:"trait",onClick:function(){return p("combat")}},"Combat: ",m),c.a.createElement("p",{className:"trait",onClick:function(){return p("height")}},"Height: ",o),c.a.createElement("p",{className:"trait",onClick:function(){return p("weight")}},"Weight: ",u)))}),C=function(){return c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"backSide",src:"https://cdn.trendhunterstatic.com/phpthumbnails/149/149328/149328_1_600.jpeg"}))},I=function(e){var t=e.topCard,a=e.currDeck,n=e.comingDeck,r=e.name,l=e.onFight,s=e.isMe,i=e.isTurn;return c.a.createElement("div",{className:"playerDetails"},c.a.createElement("span",{className:"cardsCount"},"Cards: ".concat(a+n)),t?c.a.createElement(w,Object.assign({},t,{onFight:l,isPlayable:s&&i})):c.a.createElement(C,null),c.a.createElement("span",{className:"pName"},"".concat(s?"You":"Opponent"," (").concat(r,")")))},k=(a(30),function(){var e=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null);Object(n.useEffect)((function(){d().then(c)}),[]);return Object(n.useEffect)((function(){return null===a||a.isOwnTurn?clearInterval(r.current):(r.current=setInterval((function(){d().then(c)}),1e3),function(){return clearInterval(r.current)})}),[a&&a.isOwnTurn]),[a,function(e){N(e).then((function(){return d().then(c)}))}]}(),t=Object(m.a)(e,2),a=t[0],r=t[1];if(null===a||"over"===a.state){var l=a?"".concat(a.isWinner?"You":"Opponent"," won"):"Loading..";return c.a.createElement("div",{className:"centerBox"},c.a.createElement("p",{className:"message ".concat(a?"result":"")},l))}var s=a.myself,o=a.opponent,u=a.isOwnTurn,g=a.lastFight;return c.a.createElement("div",{className:"gameContainer"},c.a.createElement(i.a,{message:"Do you want to leave the game ?"}),c.a.createElement(O,{lastFight:g,isOwnTurn:u}),c.a.createElement("div",null,c.a.createElement(I,Object.assign({},o,{isMe:!1,onFight:r,isTurn:u})),c.a.createElement(I,Object.assign({},s,{isMe:!0,onFight:r,isTurn:u}))))}),x=function(){return c.a.createElement(s.b,{to:"/",className:"iconBox"},c.a.createElement("img",{className:"iconImg",alt:"Icon",src:"https://cdn0.iconfinder.com/data/icons/sports-and-games-3/512/102-512.png"}),c.a.createElement("span",{className:"gameName"},"Super Cards"))};a(31);var S=function(){return c.a.createElement(s.a,null,c.a.createElement(x,null),c.a.createElement(i.e,null,c.a.createElement(i.c,{path:"/index"},c.a.createElement(i.b,{from:"/index",to:"/",exact:!0})),c.a.createElement(i.c,{path:"/",exact:!0},c.a.createElement(g,null)),c.a.createElement(i.c,{path:"/host",exact:!0},c.a.createElement(v,null)),c.a.createElement(i.c,{path:"/join/:gameId",exact:!0},c.a.createElement(b,null)),c.a.createElement(i.c,{path:"/game",exact:!0},c.a.createElement(k,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.e00dee86.chunk.js.map